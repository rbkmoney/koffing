.row
    .col-xs-12
        .x_panel
            .x_title
                .row
                    .col-xs-6
                        h4
                            a(href="https://rbkmoney.github.io/api/#tag/Webhooks", target="_blank")
                                u Webhooks
                    .col-xs-6.text-right
                        a(routerLink="/api/webhook/new")
                            button.btn.btn-primary Создать webhook
            table.table.table-striped.table-hover
                thead
                    tr
                        th URL
                        th События
                        th
                tbody(*ngFor="let webhook of webhooksList")
                    tr.cursor-pointer.success([ngClass]="{'danger': !webhook.active}", (click)="toggleWebhook(webhook.id)")
                        td {{webhook.url}}
                        td
                            span(*ngFor="let eventType of webhook.scope.eventTypes")  {{eventType}},
                        td
                            div.pull-right.small-container
                                i.fa.custom-chevron([ngClass]="{'fa-chevron-down': webhook.show, 'fa-chevron-right': !webhook.show}")
                    tr(*ngIf="webhook.show")
                        td.row(colspan="3")
                            .col-xs-12
                                dl
                                    dt ID
                                    td {{webhook.id}}
                                dl
                                    dt ID магазина
                                    td {{webhook.scope.shopID}}
                                dl
                                    dt Публичный ключ
                                    textarea.form-control(readonly="true", rows="15") {{webhook.publicKey}}
                            .col-xs-12.pull-right
                                button.btn.btn-danger.pull-right(data-toggle="modal", [attr.data-target]="'#' + webhook.id", data-backdrop="false") Удалить
                                .modal.fade.remove-modal(tabindex="-1", role="dialog", id="{{webhook.id}}")
                                    .modal-dialog.modal-sm
                                        .modal-content
                                            .modal-header
                                                h5.modal-title Вы действительно хотите удалить этот webhook ({{webhook.id}})?
                                            .modal-footer
                                                .btn-toolbar.pull-left
                                                    .btn-group.btn-group-sm
                                                        button.btn.btn-danger(type="button", data-dismiss="modal", (click)="deleteWebhook(webhook.id)") Да
                                                    .btn-group.btn-group-sm
                                                        button.btn.btn-default(type="button", data-dismiss="modal") Нет
